{"ast":null,"code":"var _jsxFileName = \"/Users/SBJ/project/React/banking_project/src/pages/AuthResultPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport queryString from \"query-string\";\nimport axios from \"axios\";\nimport qs from \"qs\";\nimport AuthButton from \"../components/common/AuthButton\";\nimport Header from \"../components/common/Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AuthResultPage = () => {\n  _s();\n\n  const {\n    search\n  } = useLocation();\n  const {\n    code\n  } = queryString.parse(search);\n  const [accessToken, setaccessToken] = useState(\"토큰 받아오기 전 데이터\");\n\n  const getAccessToken = () => {\n    const sendData = qs.stringify({\n      code: code,\n      client_id: \"q7kH44ThJwjpvNRg0BbJvE1yxvx5X53DKz1rNgPF\",\n      client_secret: \"yVT6irMr2h4ZTHzZY7sDpbvhm1nlOzr4nP7DYRVy\",\n      redirect_uri: \"http://localhost:3000/authResult\",\n      grant_type: \"authorization_code\"\n    });\n    console.log(sendData);\n    const option = {\n      method: \"POST\",\n      url: \"/oauth/2.0/token\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      data: sendData\n    }; //#homework : 해당 코드가 동작하게 변경해주세요 ! hint : proxy, json serialization on axios\n\n    axios(option).then(response => {\n      console.log(response.data);\n      setaccessToken(response.data.access_token);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"사용자 발급 토큰 확인\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uC0AC\\uC6A9\\uC790\\uAC00 \\uBC1C\\uAE09\\uBC1B\\uC740 \\uC0AC\\uC6A9\\uC790 \\uCF54\\uB4DC\\uB294\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: code\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uC0AC\\uC6A9\\uC790\\uC758 \\uD1A0\\uD070\\uC740?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: accessToken\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AuthButton, {\n      title: \"토큰받기\",\n      onClick: getAccessToken\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AuthResultPage, \"vAvX23MQ9XQwa0QgP5XlnklJQ6Q=\", false, function () {\n  return [useLocation];\n});\n\n_c = AuthResultPage;\nexport default AuthResultPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthResultPage\");","map":{"version":3,"sources":["/Users/SBJ/project/React/banking_project/src/pages/AuthResultPage.js"],"names":["React","useState","useLocation","queryString","axios","qs","AuthButton","Header","AuthResultPage","search","code","parse","accessToken","setaccessToken","getAccessToken","sendData","stringify","client_id","client_secret","redirect_uri","grant_type","console","log","option","method","url","headers","data","then","response","access_token"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AAEA,OAAOC,UAAP,MAAuB,iCAAvB;AACA,OAAOC,MAAP,MAAmB,6BAAnB;;;;AAEA,MAAMC,cAAc,GAAG,MAAM;AAAA;;AAC3B,QAAM;AAAEC,IAAAA;AAAF,MAAaP,WAAW,EAA9B;AACA,QAAM;AAAEQ,IAAAA;AAAF,MAAWP,WAAW,CAACQ,KAAZ,CAAkBF,MAAlB,CAAjB;AACA,QAAM,CAACG,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAAC,eAAD,CAA9C;;AAEA,QAAMa,cAAc,GAAG,MAAM;AAC3B,UAAMC,QAAQ,GAAGV,EAAE,CAACW,SAAH,CAAa;AAC5BN,MAAAA,IAAI,EAAEA,IADsB;AAE5BO,MAAAA,SAAS,EAAE,0CAFiB;AAG5BC,MAAAA,aAAa,EAAE,0CAHa;AAI5BC,MAAAA,YAAY,EAAE,kCAJc;AAK5BC,MAAAA,UAAU,EAAE;AALgB,KAAb,CAAjB;AAQAC,IAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ;AAEA,UAAMQ,MAAM,GAAG;AACbC,MAAAA,MAAM,EAAE,MADK;AAEbC,MAAAA,GAAG,EAAE,kBAFQ;AAGbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAHI;AAMbC,MAAAA,IAAI,EAAEZ;AANO,KAAf,CAX2B,CAmB3B;;AACAX,IAAAA,KAAK,CAACmB,MAAD,CAAL,CAAcK,IAAd,CAAmBC,QAAQ,IAAI;AAC7BR,MAAAA,OAAO,CAACC,GAAR,CAAYO,QAAQ,CAACF,IAArB;AACAd,MAAAA,cAAc,CAACgB,QAAQ,CAACF,IAAT,CAAcG,YAAf,CAAd;AACD,KAHD;AAID,GAxBD;;AA0BA,sBACE;AAAA,4BACE,QAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAAf;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE;AAAA,gBAAIpB;AAAJ;AAAA;AAAA;AAAA;AAAA,YAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,eAKE;AAAA,gBAAIE;AAAJ;AAAA;AAAA;AAAA;AAAA,YALF,eAOE,QAAC,UAAD;AAAY,MAAA,KAAK,EAAE,MAAnB;AAA2B,MAAA,OAAO,EAAEE;AAApC;AAAA;AAAA;AAAA;AAAA,YAPF;AAAA,kBADF;AAWD,CA1CD;;GAAMN,c;UACeN,W;;;KADfM,c;AA4CN,eAAeA,cAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nimport queryString from \"query-string\";\nimport axios from \"axios\";\nimport qs from \"qs\";\n\nimport AuthButton from \"../components/common/AuthButton\";\nimport Header from \"../components/common/Header\";\n\nconst AuthResultPage = () => {\n  const { search } = useLocation();\n  const { code } = queryString.parse(search);\n  const [accessToken, setaccessToken] = useState(\"토큰 받아오기 전 데이터\");\n\n  const getAccessToken = () => {\n    const sendData = qs.stringify({\n      code: code,\n      client_id: \"q7kH44ThJwjpvNRg0BbJvE1yxvx5X53DKz1rNgPF\",\n      client_secret: \"yVT6irMr2h4ZTHzZY7sDpbvhm1nlOzr4nP7DYRVy\",\n      redirect_uri: \"http://localhost:3000/authResult\",\n      grant_type: \"authorization_code\",\n    });\n\n    console.log(sendData);\n\n    const option = {\n      method: \"POST\",\n      url: \"/oauth/2.0/token\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n      data: sendData,\n    };\n    //#homework : 해당 코드가 동작하게 변경해주세요 ! hint : proxy, json serialization on axios\n    axios(option).then(response => {\n      console.log(response.data);\n      setaccessToken(response.data.access_token);\n    });\n  };\n\n  return (\n    <>\n      <Header title={\"사용자 발급 토큰 확인\"}></Header>\n      <p>사용자가 발급받은 사용자 코드는</p>\n      <p>{code}</p>\n      <p>사용자의 토큰은?</p>\n      <p>{accessToken}</p>\n      {/* <button handleClick={getAccessToken}></button> */}\n      <AuthButton title={\"토큰받기\"} onClick={getAccessToken}></AuthButton>\n    </>\n  );\n};\n\nexport default AuthResultPage;\n"]},"metadata":{},"sourceType":"module"}